plugins {
    id 'java'
    id "io.papermc.paperweight.userdev" version "1.7.1"
    id "xyz.jpenilla.run-paper" version "2.3.0"
    id 'com.github.johnrengelman.shadow' version '8.1.1'
}

group = 'me.cooperzilla'
version = '0.0.17-DESTRUCTIVE'

repositories {
    mavenCentral()
    maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }
    maven { url = 'https://maven.maxhenkel.de/repository/public' }
}

dependencies {
    paperweight.paperDevBundle("1.20.6-R0.1-SNAPSHOT")
    compileOnly 'org.projectlombok:lombok:' + "1.18.32"
    annotationProcessor 'org.projectlombok:lombok:' + "1.18.32"
}

java {
    toolchain.languageVersion = JavaLanguageVersion.of(21)
}

tasks.assemble {
    dependsOn(tasks.reobfJar)
}

tasks {
    compileJava {
        options.release = 21
    }

    reobfJar {
        outputJar = layout.buildDirectory.file("/libs/Lobby-${project.version}.jar")
    }
}
